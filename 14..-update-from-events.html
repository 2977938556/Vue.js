<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title></title>
	<script src="./js/vue.js"></script>
</head>
<body>

	<div id="app">
		Parent: {{ message }} <input v-model="message">

		<hr>

		Child: <my-component :parent-msg="message"></my-component>
	</div>

	<script>
		Vue.component('my-component',{
			props: {
				parentMsg: String
			},
			template: "<span>\
						{{parentMsg}}<input v-model='message'>\
						<button @click='updateText'>updateText</button>\
					</span> ",
			data: function(){
				return {
					message: this.parentMsg
				}
			},
			methods: {
				updateText: function(){
					this.$parent.$emit('update', this.message);
				}
			}
		});

		var vm = new Vue({
			el: "#app",
			data: {
				message: 'hello!'
			},
			methods: {
				selfUpdate: function(val){
					this.message = val;
				}
			},
			mounted() {
				this.$on('update', this.selfUpdate)
			}
		});
	</script>

</body>
</html>